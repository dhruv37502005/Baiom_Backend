{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="{% static 'dashboard/css/style.css' %}" />
    <link rel="stylesheet" href="{% static 'dashboard/css/styles.css' %}" />
    <link rel="stylesheet" href="{% static 'dashboard/css/another.css' %}" />
    <link rel="stylesheet" href="{% static 'dashboard/css/courses.css' %}" />
    <link
      rel="stylesheet"
      href="{% static 'dashboard/css/live-classes.css' %}"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"
    />
    <script src="{% static 'dashboard/js/script.js' %}" defer></script>
  </head>
  <body>
    <div class="blackshadow" id="blackshadow"></div>
    <aside class="aside" id="aside">
      <div class="image">
        <img src="{% static 'home/img/brand.png'%}" alt="" />
      </div>
      <div class="ProfileAndName">
        <div class="profilePic">
          {% if dash_user.photo %}
          <img src="{{ dash_user.photo.url }}" alt="Profile Photo">
      {% else %}
          <!-- Provide a default image or use a placeholder if the user has no photo -->
          <img src="{% static 'path/to/default/profile/photo.jpg' %}" alt="Default Profile Photo">
      {% endif %}
        </div>
        <h1>{{ user.username }}</h1>

        <p>{{ user.email }}</p>
      </div>
      <div class="links">
        <div class="link">
          <a href="{% url 'core:index' %}" class="a"
            ><span class="material-symbols-outlined"> home </span>
            <h2>Home</h2></a
          >
        </div>
        <div class="link">
          <a href="#" id="profile" class="a activeHai">
            <span class="material-symbols-outlined"> person </span>
            <h2>Profile</h2></a
          >
        </div>
        <div class="link">
          <a href="#" id="course" class="a"
            ><span class="material-symbols-outlined"> laptop_mac </span>
            <h2>Course</h2></a
          >
        </div>
        <div class="link">
          <a href="#" id="certificate" class="a"
            ><span class="material-symbols-outlined"> developer_guide </span>
            <h2>Certificate</h2></a
          >
        </div>
        <div class="link">
          <a href="#" id="liveClasses" class="a">
            <span class="material-symbols-outlined"> live_tv </span>
            <h2>Live Classes</h2></a
          >
        </div>
        <div class="link">
          <a href="{% url 'userauths:logout' %}" class="a">
            <span class="material-symbols-outlined"> logout </span>
            <h2>Logout</h2></a
          >
        </div>
        <div class="down">
          <button class="in" id="up-arrow">
            <span class="material-symbols-outlined"> expand_less </span>
          </button>
        </div>
      </div>
    </aside>
    <section class="container">
      <div class="just"></div>
      <main class="main" id="main">
        <div class="down">
          <button class="in" id="down-arrow">
            <span class="material-symbols-outlined"> expand_more </span>
          </button>
        </div>
        <section id="head-section-content">
          <header class="head-section" id="head-section">
            <section class="name-section">
              <h2>Namaskar {{ user.username }}</h2>
              <p>It's good to see you again.</p>
            </section>
            <section class="searchbar-section">
              <input type="text" class="search-bar" placeholder="Search" />
              <span
                class="material-symbols-outlined bell-icon"
                id="notifications"
              >
                notifications
              </span>
            </section>
          </header>
        </section>
        <section class="form-section" id="form-section">
          <form class="form" method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            <section class="close-details-section" id="close-details-section">
              <div class="close-details" id="close-details">&times;</div>
            </section>

            <section class="form-content">

              <div class="profile-image-section">
                <section class="profile_photo"></section>
                <br />
                <input type="file" name="profile_photo" class="profile_photo" accept="image/*" placeholder="Select Profile Photo" />
              </div>
              <br /><br />
              <div class="first-middle-last">
                <div class="form-element">
                  <label for="first-name" class="first-name"></label>
                  <input
                    type="text"
                    id="first-name"
                    placeholder="First name"
                    value="{{ dash_user.fname }}"
                    name="first_name"
                  />
                </div>
                <div class="form-element">
                  <label for="middle-name" class="middle-name"></label>
                  <input
                    type="text"
                    id="middle-name"
                    placeholder="Middle name"
                    value="{{ dash_user.mname }}"
                    name="middle_name"
                  />
                </div>
                <div class="form-element">
                  <label for="last-name" class="last-name"></label>
                  <input
                    type="text"
                    id="last-name"
                    placeholder="Last-name"
                    value="{{ dash_user.lname }}"
                    name="last_name"
                  />
                </div>
              </div>
              <div class="college-details">
                <div class="form-element">
                  <label for="college-name" class="college-name"></label>
                  <input
                    type="text"
                    id="college-name"
                    placeholder="College Name"
                    value="{{ dash_user.collegename }}"
                    name="college_name"
                  />
                </div>
                <div class="form-element" hidden>
                  <label for="education" class="education"></label>
                  <select
                    type="text"
                    id="education"
                    placeholder="Education"
                    name="education"
                  ></select>
                </div>

                <div class="form-element">
                  <label for="education" class="education"></label>
                  <select type="text" value="{{ dash_user.education }}" name="education" placeholder="Education">
                    <option selected disabled hidden>Education</option>

                    <option value="Board of Intermediate" {% if dash_user.education == "Board of Intermediate" %}selected{% endif %}>Board of Intermediate</option>
                    <option value="B-tech" {% if dash_user.education == "B-tech" %}selected{% endif %}>B-tech</option>
                    <option value="MCA" {% if dash_user.education == "MCA" %}selected{% endif %}>MCA</option>
                    <option value="Diploma" {% if dash_user.education == "Diploma" %}selected{% endif %}>Diploma</option>
                    <option value="Ph.D." {% if dash_user.education == "Ph.D." %}selected{% endif %}>Ph.D.</option>
                    <option value="Bachelor of Science" {% if dash_user.education == "Bachelor of Science" %}selected{% endif %}>Bachelor of Science</option>
                    <option value="Master of Science" {% if dash_user.education == "Master of Science" %}selected{% endif %}>Master of Science</option>
                    <option value="Bachelor of Arts" {% if dash_user.education == "Bachelor of Arts" %}selected{% endif %}>Bachelor of Arts</option>
                    <option value="Master of Arts" {% if dash_user.education == "Master of Arts" %}selected{% endif %}>Master of Arts</option>
                    <option value="Bachelor of Commerce" {% if dash_user.education == "Bachelor of Commerce" %}selected{% endif %}>Bachelor of Commerce</option>
                    <option value="Master of Commerce" {% if dash_user.education == "Master of Commerce" %}selected{% endif %}>Master of Commerce</option>
                    <option value="Bachelor of Engineering" {% if dash_user.education == "Bachelor of Engineering" %}selected{% endif %}>Bachelor of Engineering</option>
                    <option value="Master of Engineering" {% if dash_user.education == "Master of Engineering" %}selected{% endif %}>Master of Engineering</option>
                    <option value="Bachelor of Business Administration" {% if dash_user.education == "Bachelor of Business Administration" %}selected{% endif %}>Bachelor of Business Administration</option>
                    <option value="Master of Business Administration" {% if dash_user.education == "Master of Business Administration" %}selected{% endif %}>Master of Business Administration</option>
                    <option value="Bachelor of Fine Arts" {% if dash_user.education == "Bachelor of Fine Arts" %}selected{% endif %}>Bachelor of Fine Arts</option>
                    <option value="Master of Fine Arts" {% if dash_user.education == "Master of Fine Arts" %}selected{% endif %}>Master of Fine Arts</option>
                    <option value="Bachelor of Medicine, Bachelor of Surgery (MBBS)" {% if dash_user.education == "Bachelor of Medicine, Bachelor of Surgery (MBBS)" %}selected{% endif %}>Bachelor of Medicine, Bachelor of Surgery (MBBS)</option>
                    <option value="Doctor of Dental Medicine (DMD)" {% if dash_user.education == "Doctor of Dental Medicine (DMD)" %}selected{% endif %}>Doctor of Dental Medicine (DMD)</option>
                  </select>
                </div>

                <div class="form-element" hidden>
                  <label for="graduation-year" class="graduation-year"></label>
                  <select
                    type="text"
                    id="graduation-year"
                    placeholder="Graduation Year"
                    value="{{ dash_user.graduation_year }}"
                    name="graduation_year"
                  >
                </select>
                </div>


                <div class="form-element">
                  <label for="graduation-year" class="graduation-year"></label>
                  <select
                    type="text"
                    placeholder="Graduation Year"
                    value="{{ dash_user.graduation_year }}"
                    name="graduation_year"
                  >
                  <option selected disabled hidden>Education Year</option>
                  {% for year in years %}
                      <option value="{{ year }}" {% if dash_user.graduation_year == year %}selected{% endif %}>{{ year }}</option>
                  {% endfor %}
                
                </select>
                </div>
              </div>
              <div class="personal-details">
                <div class="form-element">
                  <label for="mobile-number" class="mobile-number"></label>
                  <input
                    type="text"
                    id="mobile-number"
                    placeholder="Enter Mobile Number"
                    value="{{ dash_user.mobilenumber }}"
                    name="mobile_number"
                  />
                </div>
                <div class="form-element">
                  <label for="github" class="github"></label>

                  <input
                    type="text"
                    id="github"
                    name="github"
                    value="{{ dash_user.github }}"
                    placeholder="Github URL"
                    required
                  />
                </div>
                <div class="form-element">
                  <label for="linkedin" class="linkdin"></label>

                  <input
                    type="text"
                    id="linkdin"
                    name="linkedin"
                    placeholder="Linkdin URL"
                    value="{{ dash_user.linkedin }}"
                  />
                </div>
              </div>
              <div class="form-element">
                <!-- <label for="bio" class="bio"></label> -->
                <textarea
                  id="bio"
                  value="{{ dash_user.bio }}"
                  placeholder="Bio : Your Profile Summary should mention the highlights of your career and education, what your professional interests are, and what kind of a career you are looking for. Write a meaningful summary of more than 50 characters."
                 
                  name="bio"
                  
                >{{ dash_user.bio }}</textarea>
              </div>
              <div class="socialmedia-section" id="socialmedia-section">
                <!-- <div class="add-section">
                  <input
                    type="text"
                    id="socialmedia"
                    placeholder="Social Media URL"
                  />
                  <button
                    type="button"
                    class="socialmedia-icon"
                    id="socialmedia-icon"
                    onclick="addIcon()"
                  >
                    <span class="material-symbols-outlined add-icon">
                      add_circle
                    </span>
                  </button>
                </div> -->
              </div>

              <div class="form-element btn" id="submit-btn-section">
                <button type="submit" class="submit-btn">Submit</button>
              </div>
            </section>
          </form>
        </section>
        <section
          class="registered-details-section"
          id="registered-details-section"
        >
          <section class="registered-profile" id="registered-profile">
            <!-- <div></div> -->
            <!-- <section class="registered-photo"></section> -->
            <section class="registered-details">
              <section class="registered-name-section">
                <h2 class="registered-name">{{ dash_user.fname }}</h2>
                <button type="button" class="edit-details" id="edit-details">
                  <span class="material-symbols-outlined"> edit </span>
                </button>
              </section>
              <hr />
              <br />
              <div class="bio">
                <b>Bio :</b> {{dash_user.bio}}
              </div>
              <br />
              <div class="registered-other-details">
                <div class="first-part">
                  <div class="registered-college-name element">
                    <span class="material-symbols-outlined"> school </span
                    >{{dash_user.collegename}}
                  </div>
                  <div class="registered-college-name element">
                    <span class="material-symbols-outlined">
                      workspace_premium</span
                    >{{dash_user.education}}
                  </div>
                  <div class="registered-graduation-year element">
                    <span class="material-symbols-outlined"> date_range </span
                    >{{dash_user.graduation_year}}
                  </div>
                  <div class="registered-github element">
                    <span class="material-symbols-outlined"> link </span
                    >{{dash_user.github}}
                  </div>
                </div>
                <!-- <div class="vl"></div> -->
                <div class="second-part">
                  <div class="registered-mobile-number element">
                    <span class="material-symbols-outlined"> call </span
                    >{{dash_user.mobilenumber}}
                  </div>

                  <div class="registered-email-id element">
                    <span class="material-symbols-outlined"> mail </span
                    >{{user.email}}
                  </div>
                  <div class="registered-email-id element">
                    <span class="material-symbols-outlined"> link </span
                    >{{dash_user.linkedin}}
                  </div>
                  <div class="registered-socialmedia element">
                    <span class="material-symbols-outlined"> link </span>social
                    media
                  </div>
                </div>
              </div>
            </section>
            <div class="statistics">
              <div class="static">
                <div class="div1">
                  <div class="divi">
                    <h2>20hr</h2>
                    <p>Tracked time</p>
                  </div>
                </div>

                <div class="div2">
                  <div class="divi">
                    <h2>15</h2>
                    <p>Finished tasks</p>
                  </div>
                </div>
                <div class="div3">
                  <div class="divi">
                    <h2>
                      <span class="material-symbols-outlined"> widgets </span>
                    </h2>
                    <p>New widget</p>
                  </div>
                </div>
              </div>
            </div>
          </section>
        </section>

        <!-- //course section -->

        <div class="courseDiv" id="courseDiv">
          <h2>Enroll Courses</h2>

          <section id="course-card-section">
            {% for course in enrolled_courses %}
            <div class="course-card">
              <div class="card-image-section">
                {% if course.video %}

                <video
                  id="courseVideo"
                  width="1000"
                  height="1000"
                  controls
                  style="display: none"
                >
                  <source src="{{ course.video.url }}" type="video/mp4" />
                  <!--<source src="{{ course.video.url }}" type="video/webm">
              <source src="{{ course.video.url }}" type="video/ogg"> -->
                  Your browser does not support the video tag.
                </video>
                {% else %}
                <p>No video available</p>
                {% endif %}
              </div>
              <div class="card-content">
                <div class="completed-percentage">
                  <div class="inner" style="width: 55%"></div>
                </div>
                <div class="lectures-completed">55/100 lectures completed</div>
                <h3 class="course-name">{{course.title}}</h3>
                <div class="last-read">Last read: Layout grids</div>

                <button
                  type="button"
                  class="resume-btn-element"
                  onclick="playVideo()"
                >
                  <span class="material-symbols-outlined"> play_arrow </span
                  >Resume Course
                </button>
              </div>
            </div>
            {% endfor %}
          </section>
        </div>
        <script>
          function playVideo() {
            var videoElement = document.getElementById("courseVideo");
            videoElement.style.display = "block";
            videoElement.play();
          }
        </script>

        <section
          id="certificate-section"
          style="background-color: red"
        ></section>

      
        {% for batch in batches %}
        <section id="liveClasses-section">
          <button type="button" class="live-card" id="live-card">
            {{ batch.course.title }}
          </button>
          <div id="live-content">
            <div class="live-card-description">
              <div class="live-course-name">Course Deacription: {{batch.couse.description}}</div>
              <div class="live-batch">Batch Name: {{batch.batch_name}}</div>
              <div class="live-tutor">Tutor Name: {{batch.course.instructor}}</div>
              <div class="live-start-date">Start Date: {{batch.start_date}}</div>
              <div class="live-link">
                <a href="#">Link for the session</a>
              </div>
        <div>
        <table>
          <thead>
            <tr>
              <th>Created at</th><br>
              <th>Notes</th><br>
              <th>Video link</th><br>
            </tr>
          </thead>
          <tbody>
            {% for resource in batch.resource_set.all %}
              <tr>
                <td>{{ resource.created_at }}</td>
                <td>{% if resource.notes %}<a href="{{ resource.notes.url }}" target="_blank">View Notes</a>{% else %}No notes available{% endif %}</td><br>
                <td>{% if resource.recorded_video_link %}<a href="{{ resource.recorded_video_link.url }}" target="_blank">View Video</a>{% else %}No video available{% endif %}</td><br>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
      
            </div>
          </div>
        </section>

      {% endfor %}
      </main>
      </section>
  </body>
</html>
